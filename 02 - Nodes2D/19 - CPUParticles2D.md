<div dir=rtl>

# CPUParticles2D

`CPUParticles2D` هي عقدة تستخدم لتوليد مؤثرات بصرية مثل النار، الدخان، الشرر، والانفجارات… إلخ.  
بعكس `GPUParticles2D` التي تعتمد على كرت الشاشة، فإن `CPUParticles2D` تعمل باستخدام المعالج (CPU)، وتُستخدم غالبًا للأجهزة الضعيفة أو التي لا تدعم الرسوميات المتقدمة.

---

## الفرق بين CPUParticles2D و GPUParticles2D

| الخاصية         | CPUParticles2D         | GPUParticles2D            |
|------------------|--------------------------|----------------------------|
| الأداء            | أبطأ (يعتمد على المعالج) | أسرع (يعتمد على كرت الشاشة) |
| التوافق          | أفضل للأجهزة الضعيفة     | يتطلب دعم GPU حديث         |
| المرونة          | يدعم معظم الخصائص        | يدعم خصائص متقدمة جداً     |

---

## أهم الخصائص (Properties)

| الخاصية             | الوصف |
|----------------------|-------|
| `amount`             | عدد الجزيئات التي يتم توليدها. |
| `lifetime`           | المدة الزمنية لبقاء الجزيئة قبل اختفائها. |
| `one_shot`           | إذا كانت `true`، يتم توليد الجزيئات مرة واحدة فقط. |
| `preprocess`         | زمن المعالجة المسبق (يُشغّل الجزيئات قبل عرضها لتبدو وكأنها بدأت مسبقًا). |
| `emitting`           | تفعيل/تعطيل إطلاق الجزيئات. |
| `speed_scale`        | يغير من سرعة الجزيئات. |
| `direction`          | الاتجاه الأساسي لحركة الجزيئات. |
| `spread`             | مدى انتشار الجزيئات حول الاتجاه الأساسي (0 = خط مستقيم، 180 = في كل الاتجاهات). |
| `gravity`            | الجاذبية المؤثرة على الجزيئات. |
| `initial_velocity`   | السرعة الابتدائية للجزيئة عند الانطلاق. |
| `linear_accel`       | التسارع الخطي (إيجابي = تسريع، سلبي = تباطؤ). |
| `radial_accel`       | تسارع الجزيئة نحو أو بعيدًا عن المركز. |
| `tangential_accel`   | تسارع الجزيئة بشكل دوران حول المركز. |
| `damping`            | مقاومة السرعة مع الزمن. |
| `angle`              | زاوية دوران الجزيئة. |
| `angle_velocity`     | سرعة دوران الجزيئة. |
| `scale_amount`       | حجم الجزيئة عند الانطلاق. |
| `scale_curve`        | منحنى يحدد كيف يتغير الحجم مع الزمن. |
| `color`              | لون الجزيئة الأساسي. |
| `color_ramp`         | تدرج لوني يتغير بمرور الزمن. |
| `texture`            | الصورة المستخدمة لكل جزيئة (Sprite لكل جزيئة). |
| `local_coords`       | إذا كانت `true`، تتأثر الجزيئات بتحرك العقدة الأم. |

---

## الإشارات (Signals)

| الإشارة            | الوصف |
|----------------------|-------|
| *(لا توجد إشارات افتراضية في CPUParticles2D)* |

---

## لاستخدام بسيط

1. أضف عقدة `CPUParticles2D` إلى المشهد.
2. اضبط `emitting = true`.
3. ضع صورة في `texture` (مثل دائرة أو شرارة).
4. عدّل `lifetime`, `spread`, `gravity`, إلخ لتشكيل التأثير المطلوب.

---

## مثال إعداد مؤثر نار:

<div dir=ltr>

```gdscript
# بدون سكربت، من الواجهة:
amount = 200
lifetime = 1.5
one_shot = false
emitting = true
texture = flame.png
initial_velocity = 50
spread = 45
gravity = Vector2(0, -30)
scale_amount = 1.0
color = Color(1, 0.5, 0)
color_ramp = من الأصفر إلى الأحمر
```

<div dir=rtl>

---

## ملاحظات

* يمكنك حفظ الإعدادات كـ `ParticlesMaterial` لإعادة استخدامها.
* مثالية للألعاب الثنائية الأبعاد التي تستهدف الهواتف أو الأجهزة الضعيفة.
* لا يُنصح بها للمؤثرات المعقدة جدًا (استخدم `GPUParticles2D` حينها).

---

## هل يمكن التحكم بها برمجيًا؟

```gdscript
$CPUParticles2D.emitting = true
$CPUParticles2D.amount = 100
$CPUParticles2D.direction = Vector2(1, 0)
```

---
