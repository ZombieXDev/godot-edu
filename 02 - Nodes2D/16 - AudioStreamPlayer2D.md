
<div dir=rtl>

# AudioStreamPlayer2D

يمثل `AudioStreamPlayer2D` مشغل صوت ثنائي الأبعاد. عند تشغيل صوت من خلاله، يتم تحديد مصدر الصوت في المشهد، ويتأثر الصوت بموقعه النسبي من `AudioListener2D` (مثل اللاعب أو الكاميرا).

---

## الاستخدام

يُستخدم لتشغيل المؤثرات الصوتية المرتبطة بمكان معين، مثل:
- صوت قفز اللاعب.
- صوت فتح باب.
- صوت انفجار في مكان محدد على الخريطة.

---

## أهم الخصائص

| الخاصية | الوصف |
|---------|-------|
| `stream` | تحدد ملف الصوت (من نوع `AudioStream`) الذي سيتم تشغيله. يمكن أن يكون `.wav` أو `.ogg` إلخ. |
| `playing` | تُظهر أو تتحكم فيما إذا كان الصوت يعمل حاليًا. |
| `autoplay` | إذا كانت مفعّلة، سيتم تشغيل الصوت تلقائيًا عند بداية المشهد. |
| `volume_db` | شدة الصوت بوحدة الديسيبل (ديسيبل = وحدة قياس الصوت). |
| `pitch_scale` | لتغيير طبقة الصوت (درجة التردد). القيمة `1` هي الأصلية، `2` ترفع التردد، `0.5` تخفضه. |
| `max_distance` | المسافة التي يبدأ فيها خفوت الصوت تدريجيًا. |
| `attenuation` | مقدار انخفاض الصوت حسب المسافة. كلما زادت القيمة، خف الصوت أسرع كلما ابتعد المستمع. |
| `bus` | مسار معالجة الصوت (Audio Bus). الافتراضي هو `"Master"`، لكن يمكن تخصيصه. |
| `area_mask` | يحدد المناطق (Areas) التي يمكن لهذا الصوت أن يؤثر فيها (يُستخدم غالبًا مع `Area2D` لاحتواء الصوت). |

---

## أهم الدوال

| الدالة | الوصف |
|--------|-------|
| `play()` | تشغيل الصوت من البداية. |
| `play(from_position)` | تشغيل الصوت من وقت معين (بالثواني). |
| `stop()` | إيقاف الصوت فورًا. |
| `is_playing()` | يرجع `true` إذا كان الصوت يعمل حاليًا. |
| `seek(position)` | الانتقال إلى وقت معين داخل الصوت (بالثواني). |

---

## مثال عملي

### تشغيل صوت عند ضغط زر:
<div dir=ltr>

```gdscript
func _input(event):
    if event.is_action_pressed("ui_accept"):
        $AudioStreamPlayer2D.play()
````


<div dir=rtl>

---

## ملاحظات

* تأكد من ضبط خاصية `stream` على ملف صوت موجود داخل المشروع.
* الصوت يتأثر بالموقع، لذا إذا كان بعيدًا عن `AudioListener2D`، سيبدو منخفضًا أو غير مسموع.

---

## مقارنة سريعة

| الخاصية        | AudioStreamPlayer | AudioStreamPlayer2D     |
| -------------- | ----------------- | ----------------------- |
| نوع الصوت      | عادي (بدون موقع)  | صوت بموقع ثنائي الأبعاد |
| يتأثر بالموقع؟ | لا                | نعم                     |
| مناسب لـ       | موسيقى الخلفية    | مؤثرات صوتية مكانية     |

