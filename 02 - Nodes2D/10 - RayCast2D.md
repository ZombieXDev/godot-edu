<div dir="rtl">

# ما هي `RayCast2D`؟

`RayCast2D` هي عقدة تستخدم لإرسال "شعاع" (خط مستقيم) في اتجاه معين لفحص ما إذا كان يصطدم بشيء في المشهد ثنائي الأبعاد.

تخيل أنك ترسل شعاع ليكتشف هل هناك جدار أمام الشخصية، أو هل هناك أرض تحتها.

---

## لماذا نستخدم `RayCast2D`؟

* للكشف عن وجود تصادم مع أجسام أخرى بدون تحريك العقدة نفسها.
* للتحقق من المسافة بين كائن وشيء آخر.
* مفيد جدًا في الألعاب لتحديد هل يمكن القفز، هل هناك عائق أمام اللاعب، أو لتحديد الأرض تحت الشخصية.

---

## كيف تعمل؟

* ترسل شعاع يبدأ من موقع العقدة في اتجاه معين.
* إذا اصطدم الشعاع بشيء، يمكن معرفة مكان الاصطدام، الجسم الذي اصطدم به، وغيرها.

---

## أهم خصائص `RayCast2D`

| الخاصية              | الوصف                                                             |
| -------------------- | ----------------------------------------------------------------- |
| `cast_to`            | نقطة نهاية الشعاع بالنسبة لموقع العقدة (Vector2).                 |
| `enabled`            | تفعيل أو تعطيل عمل الشعاع.                                        |
| `collision_mask`     | تحدد طبقات الأجسام التي يمكن للشعاع الاصطدام بها.                 |
| `exclude_parent`     | تجاهل التصادم مع العقدة الأب (مثلاً لتجنب الاصطدام بنفس الشخصية). |
| `colliding`          | حالة الشعاع إذا اصطدم بشيء (قراءة فقط).                           |
| `collision_point`    | نقطة الاصطدام (إذا حدث).                                          |
| `collision_normal`   | اتجاه السطح عند نقطة الاصطدام.                                    |
| `collision_collider` | الجسم الذي اصطدم به الشعاع.                                       |

---


## الدوال المهمة في ShapeCast2D

| الدالة                   | الوصف                                                       |
| ------------------------ | ----------------------------------------------------------- |
| `is_colliding()`         | تعيد `true` إذا كان الشكل سيصطدم بجسم ما في الاتجاه المحدد. |
| `get_collider()`         | تعيد الجسم الذي سيتصادم معه الشكل.                          |
| `get_collision_point()`  | تعيد نقطة الاصطدام المتوقعة.                                |
| `get_collision_normal()` | تعيد الاتجاه الطبيعي للسطح عند نقطة الاصطدام.               |
| `force_update_motion()`  | تجبر العقدة على تحديث حالة التصادم فورًا.                   |

---

## مثال عملي

لتفعيل الشعاع وفحص إذا كان يصطدم بجدار أمام الشخصية:
<div dir=ltr>


```gdscript
func _process(delta):
    if $RayCast2D.is_colliding():
        var obj = $RayCast2D.get_collider()
        print("اصطدمنا بـ: ", obj.name)
    else:
        print("الطريق خالي")
```

---

<div dir=rtl>

## استخدامات شائعة

* التحقق من وجود أرض تحت الشخصية (لمنع السقوط).
* كشف الجدران أو العوائق أمام اللاعب.
* تسهيل الذكاء الاصطناعي في معرفة حدود التحرك.

---

</div>
